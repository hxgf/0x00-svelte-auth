import{S as fe,i as de,s as me,e as f,t as U,c as d,a as g,h as V,d as m,b as t,g as $,L as e,j as pe,k as b,M as he,m as v,N as _e,O as D,P as S,Q as ge,K as ie,R as be,F as ve,T as we,U as Ee}from"./vendor-4da64e94.js";import{d as ye}from"./dw-utils-e8783ecf.js";import{r as xe}from"./singletons-a6a7384f.js";import{s as ue}from"./stores-742cbc98.js";const Le=Ie;async function Ie(o,n){return xe.goto(o,n,[])}function ce(o){let n,i;return{c(){n=f("div"),i=U(o[2]),this.h()},l(s){n=d(s,"DIV",{class:!0});var r=g(n);i=V(r,o[2]),r.forEach(m),this.h()},h(){t(n,"class","text-red-600 pt-8")},m(s,r){$(s,n,r),e(n,i)},p(s,r){r&4&&pe(i,s[2])},d(s){s&&m(n)}}}function ke(o){let n,i,s,r,p,_,k,j,l,w,q,u,E,R,P,W,C,y,G,L,F,K,Q,I,z,N,H,J,T,A,X,Y,Z,ee;document.title=n="Login - "+o[4].site_title;let c=o[2]&&ce(o);return{c(){i=b(),s=f("main"),r=f("div"),p=f("form"),_=f("img"),j=b(),l=f("div"),w=f("label"),q=U("Email"),u=b(),E=f("input"),R=b(),P=f("label"),W=U("Password"),C=b(),y=f("input"),G=b(),L=f("div"),F=f("label"),K=U("Website"),Q=b(),I=f("input"),z=b(),N=f("button"),H=U("Login"),J=b(),T=f("div"),A=f("a"),X=U("Forgot Password?"),Y=b(),c&&c.c(),this.h()},l(a){he('[data-svelte="svelte-1nivuog"]',document.head).forEach(m),i=v(a),s=d(a,"MAIN",{class:!0});var B=g(s);r=d(B,"DIV",{class:!0});var te=g(r);p=d(te,"FORM",{class:!0});var M=g(p);_=d(M,"IMG",{class:!0,alt:!0,src:!0}),j=v(M),l=d(M,"DIV",{});var h=g(l);w=d(h,"LABEL",{class:!0,for:!0});var se=g(w);q=V(se,"Email"),se.forEach(m),u=v(h),E=d(h,"INPUT",{class:!0,type:!0}),R=v(h),P=d(h,"LABEL",{class:!0,for:!0});var le=g(P);W=V(le,"Password"),le.forEach(m),C=v(h),y=d(h,"INPUT",{class:!0,type:!0}),G=v(h),L=d(h,"DIV",{class:!0});var O=g(L);F=d(O,"LABEL",{class:!0,for:!0});var oe=g(F);K=V(oe,"Website"),oe.forEach(m),Q=v(O),I=d(O,"INPUT",{class:!0,type:!0}),O.forEach(m),z=v(h),N=d(h,"BUTTON",{class:!0});var re=g(N);H=V(re,"Login"),re.forEach(m),J=v(h),T=d(h,"DIV",{class:!0});var ae=g(T);A=d(ae,"A",{class:!0,href:!0});var ne=g(A);X=V(ne,"Forgot Password?"),ne.forEach(m),ae.forEach(m),h.forEach(m),M.forEach(m),te.forEach(m),Y=v(B),c&&c.l(B),B.forEach(m),this.h()},h(){t(_,"class","w-60 self-center opacity-30 mr-10"),t(_,"alt",""),_e(_.src,k="https://mgmt.oceancompaniesok.com/images/global/ocean-companies-logo-bw.png")||t(_,"src",k),t(w,"class","font-semibold text-xs"),t(w,"for","usernameField"),t(E,"class","flex items-center h-12 px-4 w-72 bg-gray-200 mt-1 mb-3 rounded focus:outline-none focus:ring-2"),t(E,"type","email"),t(P,"class","font-semibold text-xs"),t(P,"for","passwordField"),t(y,"class","flex items-center h-12 px-4 w-72 bg-gray-200 mt-1 rounded focus:outline-none focus:ring-2"),t(y,"type","password"),t(F,"class","font-semibold text-xs"),t(F,"for","websiteField"),t(I,"class","flex items-center h-12 px-4 w-72 bg-gray-200 mt-1 rounded focus:outline-none focus:ring-2"),t(I,"type","website"),t(L,"class","hidden"),t(N,"class","flex items-center justify-center h-12 px-6 w-72 bg-blue-600 mt-8 rounded font-semibold text-sm text-blue-100 hover:bg-blue-700"),t(A,"class","text-blue-400 hover:text-blue-500"),t(A,"href","/forgot"),t(T,"class","flex mt-4 justify-center text-xs"),t(p,"class","flex items-center"),t(r,"class","flex flex-col bg-white rounded shadow-lg pr-12 pl-8 py-8"),t(s,"class","flex flex-col items-center justify-center w-screen h-screen")},m(a,x){$(a,i,x),$(a,s,x),e(s,r),e(r,p),e(p,_),e(p,j),e(p,l),e(l,w),e(w,q),e(l,u),e(l,E),D(E,o[0]),e(l,R),e(l,P),e(P,W),e(l,C),e(l,y),D(y,o[1]),e(l,G),e(l,L),e(L,F),e(F,K),e(L,Q),e(L,I),D(I,o[3]),e(l,z),e(l,N),e(N,H),e(l,J),e(l,T),e(T,A),e(A,X),e(s,Y),c&&c.m(s,null),Z||(ee=[S(E,"input",o[6]),S(y,"input",o[7]),S(I,"input",o[8]),S(p,"submit",ge(o[5]))],Z=!0)},p(a,[x]){x&16&&n!==(n="Login - "+a[4].site_title)&&(document.title=n),x&1&&E.value!==a[0]&&D(E,a[0]),x&2&&y.value!==a[1]&&D(y,a[1]),x&8&&D(I,a[3]),a[2]?c?c.p(a,x):(c=ce(a),c.c(),c.m(s,null)):c&&(c.d(1),c=null)},i:ie,o:ie,d(a){a&&m(i),a&&m(s),c&&c.d(),Z=!1,be(ee)}}}function Pe(o,n,i){let s;ve(o,ue,u=>i(4,s=u));let r,p,_,k="";async function j(){i(2,_=!1);try{ye.api_fetch({url:"https://api.oceancompaniesok.com/auth/login",data:{email:r,password:p,current_url:window.location.href.substring(window.location.origin.length),website:k,ua:navigator.userAgent}}).then(u=>{u.success?(u.auth_token&&(we.set("auth_token",u.auth_token,{expires:365}),Ee(ue,s.user_id=u.user_id,s)),u.redirect&&Le(u.redirect)):u.error&&i(2,_=u.error.message)})}catch(u){console.log(u),i(2,_="Error processing request. See console for more information.")}}function l(){r=this.value,i(0,r)}function w(){p=this.value,i(1,p)}function q(){k=this.value,i(3,k)}return[r,p,_,k,s,j,l,w,q]}class De extends fe{constructor(n){super();de(this,n,Pe,ke,me,{})}}export{De as L};
